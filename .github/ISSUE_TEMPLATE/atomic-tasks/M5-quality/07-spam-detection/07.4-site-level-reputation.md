# ðŸŽ¯ Task 07.4: Site-Level Reputation Aggregation

## ðŸ“… Sprint Info
- **Duration:** 3 days
- **Milestone:** M5 - Quality & Spam Detection
- **Priority:** P1
- **Depends On:** Tasks 07.2, 07.3 âœ…
- **Blocks:** Task 07.5 (Quality Scoring Pipeline)
- **Assignee:** TBD

## ðŸŽ¬ What You'll Build
Aggregate document-level spam scores to site-level reputation. Enable domain-wide filtering to catch spam farms and low-quality sites across all languages.

## ðŸ“‹ Daily Breakdown

### Day 1: Aggregation Logic
- [ ] Design site reputation schema
- [ ] Implement aggregation algorithms (mean, median, percentile)
- [ ] Add temporal decay for reputation
- [ ] Build safe-list for known good domains
- [ ] Create domain normalization (eTLD+1)
- [ ] Unit tests

### Day 2: Storage & Updates
- [ ] Store reputation in MongoDB/Redis
- [ ] Implement incremental updates
- [ ] Add reputation history tracking
- [ ] Build reputation decay mechanism
- [ ] Create batch update pipeline
- [ ] Performance optimization

### Day 3: Integration & Monitoring
- [ ] Integrate with ranking pipeline
- [ ] Build reputation dashboard
- [ ] Add alerting for reputation drops
- [ ] Create manual override system
- [ ] Documentation

## âœ… Acceptance Criteria
- [ ] Site reputation computed for all domains
- [ ] Aggregation reduces spam by â‰¥70%
- [ ] Safe-list protects known good sites
- [ ] Updates reflect new spam patterns within 24h
- [ ] Manual override system for false positives
- [ ] Works across all languages

## ðŸ“¦ Deliverables
- `src/python/reputation/site_aggregator.py` (350 lines)
- `src/python/reputation/reputation_updater.py` (250 lines)
- `src/storage/SiteReputationStore.cpp` (300 lines)
- `tests/test_site_reputation.py` (40+ cases)
- `monitoring/site_reputation_dashboard.json`
- `docs/site-reputation-guide.md`

## ðŸ“Š Success Metrics
- **Coverage:** All indexed domains
- **Effectiveness:** â‰¥70% spam reduction
- **Safe-list:** Zero false demotions of good sites
- **Freshness:** Updates within 24 hours
- **Precision:** <2% false positives

---

**Bad sites can't hide! ðŸ¢ðŸ›¡ï¸**

